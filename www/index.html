<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Register-processor</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <meta Http-Equiv="Cache" content="no-cache">
  <meta Http-Equiv="Pragma-Control" content="no-cache">
  <meta Http-Equiv="Cache-directive" Content="no-cache">
  <meta Http-Equiv="Pragma-directive" Content="no-cache">
  <meta Http-Equiv="Cache-Control" Content="no-cache">
  <meta Http-Equiv="Pragma" Content="no-cache">
  <meta Http-Equiv="Expires" Content="0">
  <meta Http-Equiv="Pragma-directive: no-cache">
  <meta Http-Equiv="Cache-directive: no-cache">


</head>

<body>
  <div class="row">
    <div class="col-md-4">
      <p>loaded program:</p>
      <pre id="loaded-program-text"></pre>
      <br>
      <br>
      <p>example programs to download:</p>
      <a href="example_programs/test.asm" download="infinite_loop.asm">infinite +2 loop</a> <br>
      <a href="example_programs/example2.asm" download="alu_ops.asm">Some ALU operations</a>
      <br><br>
      <p>
        TO DO: <br>
      <ul>
        <li>error handling</li>
        <li>instructions for subroutines (JSR, RET, ..)</li>
        <li>cleaner ASM syntax (support for named memory locations)</li>
        <li>prettier UI</li>
      </ul>
      <a href="https://github.com/AntoonBeres/wasm-register-processor">Source code (pull requests welcome)</a>
      </p>
    </div>
    <div class="col-md-4 justify-content-center">
      <p>
        Currently supported instructions:
      <ul class="list-group">
        <li class="list-group-item">ADD</li>
        <li class="list-group-item">SUB </li>
        <li class="list-group-item">MUL</li>
        <li class="list-group-item">DIV</li>
        <li class="list-group-item">CMP</li>
        <li class="list-group-item">ADI</li>
        <li class="list-group-item">LDI</li>
        <li class="list-group-item">LOD</li>
        <li class="list-group-item">STO</li>
        <li class="list-group-item">JMP (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JPZ (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JNZ (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JPN (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JNN (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JPV (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
        <li class="list-group-item">JNV (attention! first instruction has adress 0, PC starts at 0, not 1)</li>
      </ul>
      </p>
      <noscript>This page contains webassembly and javascript content, please enable javascript in your
        browser.</noscript>

      <div>
        <p>upload program: </p>
        <input type="file" id="upload" name="upload source code">
      </div>
      <div>
        <p>processor controls: </p>
        <button id="resetRegisters">reset registers</button>
        <button id="stepProc">step</button>
      </div>


    </div>
    <div class="col-md-4">
      <p>processor state: </p>
      <br>
      <pre id="wasm-proc"></pre>


    </div>
  </div>

  <script src="./index.js" type="module"></script>
</body>

</html>




<!---

<style>
  body {
    //position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
</style>

-->